ggplot(data=plotData, aes(x=year, y=Emissions, group=type)) + geom_line() + geom_point()
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
plotData
plotData$Emissions <- plotData$Emissions[,year==1999]
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
plotData$Emissions <- plotData$Emissions[year==1999,]
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
plotData
plotData$Emissions <- log(plotData$Emissions)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, year == 1999 | year == 2002 | year == 2005 | year == 2008 & fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
View(plotData)
NEI$year
summary(NEI$year)
unique(NEI$year)
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
head(SCC,2)
head(SCC,1)
unique(SCC$Data.Category)
unique(SCC$Short.Name)
head(NEI,1)
require(reshape2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Melt & recast PM2.5 data, summing by year.
mNEI <- melt(NEI, id.vars = c("year", "SCC"), measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
plotData$SCC <- factor(plotData$SCC)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
#    bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=SCC, colour=SCC)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
require(reshape2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Melt & recast PM2.5 data, summing by year.
mNEI <- melt(NEI, id.vars = c("year", "SCC"), measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
plotData$SCC <- factor(plotData$SCC)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
#    bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=SCC, colour=SCC)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
View(plotData)
View(plotData)
mNEI <- melt(NEI, id.vars = c("year", "SCC"), measure.vars = "Emissions")
plotData <- dcast(mNEI, year + SCC ~ variable, sum)
plotData$year <- factor(plotData$year)
plotData$SCC <- factor(plotData$SCC)
ggplot(data=plotData, aes(x=year, y=Emissions, group=SCC, colour=SCC)) + geom_line() + geom_point()
head(plotData)
# Melt & recast PM2.5 data, summing by year.
mNEI <- melt(yearNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot1.png"), width = 480, height = 480,
#    bg = "transparent")
plot(plotData)
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Melt & recast PM2.5 data, summing by year.
mNEI <- melt(yearNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot1.png"), width = 480, height = 480,
#    bg = "transparent")
plot(plotData)
mNEI <- melt(NEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot1.png"), width = 480, height = 480,
#    bg = "transparent")
plot(plotData)
# Subset PM2.5 data by year, and for Baltimore.
balNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalNEI <- melt(balNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot2.png"), width = 480, height = 480,
bg = "transparent")
plot(plotData)
# Write plot out to file.
dev.off()
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
#plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
#plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
#plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
#ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
ggplot(data=plotData, aes(x=year, y=Emissions, group-type, colour=type)) + facet_grid(. ~ type)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type) + facet_grid(. ~ type)
s
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + facet_grid(. ~ type)
ggplot(data=plotData, aes(x=year, y=Emissions)) + facet_grid(. ~ type)
#ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type) + geom_line() + geom_point() facet_grid(. ~ type)
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type) + geom_line() + geom_point() + facet_grid(. ~ type)
Data, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point()
ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type)) + geom_line() + geom_point() + facet_grid(. ~ type)
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Subset PM2.5 data by year.
yearNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mYearNEI <- melt(yearNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mYearNEI, year + type ~ variable, sum)
#plotData$Emissions <- log(plotData$Emissions)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
#bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot <- plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
#dev.off()
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name)]
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name), 1]
sources
srcNEI <- subset(NEI, NEI$SCC %in% sources)
# Grep for "coal combustion" related sources in SCC$Short.Name
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name), 1]
# Subset NEI data based on whether or not the source is "coal combustion" related.
srcNEI <- subset(NEI, NEI$SCC %in% sources)
# Melt & recast PM2.5 data, summing by year.
mSrcNEI <- melt(srcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mSrcNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
#plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
#bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions))
plot <- plot + geom_line() + geom_point()
# Grep for "coal combustion" related sources in SCC$Short.Name
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name), 1]
# Subset NEI data based on whether or not the source is "coal combustion" related.
srcNEI <- subset(NEI, NEI$SCC %in% sources)
# Melt & recast PM2.5 data, summing by year.
mSrcNEI <- melt(srcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mSrcNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
#plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
#bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions))
plot <- plot + geom_line() + geom_point()
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Grep for "coal combustion" related sources in SCC$Short.Name
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name), 1]
# Subset NEI data based on whether or not the source is "coal combustion" related.
srcNEI <- subset(NEI, NEI$SCC %in% sources)
# Melt & recast PM2.5 data, summing by year.
mSrcNEI <- melt(srcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mSrcNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
#plotData$type <- factor(plotData$type)
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
#bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions))
plot <- plot + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=Emissions))
plot <- plot + geom_line() + geom_point()
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=year))
plot <- plot + geom_line() + geom_point()
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=year))
plot <- plot + geom_bar()
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=year))
plot <- plot + geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=year, colour=Emissions))
plot <- plot + geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=year, colour="blue"))
plot <- plot + geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions))
plot <- plot + geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions))
plot <- plot + geom_line() #geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot <- plot + geom_line() + geom_point() #geom_bar(stat="identity")
plot
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Grep for "motor vehicle" related sources in SCC$EI.SECTOR
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.SECTOR), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot5.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
# Write plot out to file.
dev.off()
require(reshape2)
require(ggplot2)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Grep for "motor vehicle" related sources in SCC$EI.SECTOR
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.SECTOR), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot5.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
# Write plot out to file.
dev.off()
suources
sources
names(SCC)
# Grep for "motor vehicle" related sources in SCC$EI.Sector
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.Sector), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year ~ variable, sum)
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
?factor
require(reshape2)
require(ggplot)
# Read data in.
NEI <- readRDS(file.path(getwd(), "data", "summarySCC_PM25.rds"))
SCC <- readRDS(file.path(getwd(), "data", "Source_Classification_Code.rds"))
# Grep for "motor vehicle" related sources in SCC$EI.Sector
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.Sector), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore & Los Angeles.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips %in% c("24510", "06037"))
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = c("year", "fips"), measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year + fips ~ variable, sum)
plotData$fips <- factor(plotData$fips, levels = c("06037", "24510"),
labels = c("Los Angeles County", "Baltimore"))
# Initialise graphics device.
#png(filename = file.path(getwd(), "plot6.png"), width = 480, height = 480,
#    bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=fips, colour=fips))
plot + geom_facet(.~fips) + geom_line() + geom_point()
# Write plot out to file.
#dev.off()
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=fips, colour=fips))
plot + facet_grid(. ~ fips) + geom_line() + geom_point()
# Melt & recast PM2.5 data, summing by year.
mNEI <- melt(NEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot1.png"), width = 480, height = 480,
bg = "transparent")
plot(plotData)
# Write plot out to file.
dev.off()
# Subset PM2.5 data by year, and for Baltimore.
balNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalNEI <- melt(balNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot2.png"), width = 480, height = 480,
bg = "transparent")
plot(plotData)
# Write plot out to file.
dev.off()
# Subset PM2.5 data to that relevant to Baltimore.
balNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalNEI <- melt(balNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mBalNEI, year + type ~ variable, sum)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot <- plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
# Grep for "coal combustion" related sources in SCC$Short.Name
sources <- SCC[grep("*Comb(.)*Coal*", SCC$Short.Name), 1]
# Subset NEI data based on whether or not the source is "coal combustion" related.
srcNEI <- subset(NEI, NEI$SCC %in% sources)
# Melt & recast PM2.5 data, summing by year.
mSrcNEI <- melt(srcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mSrcNEI, year ~ variable, sum)
plotData$year <- factor(plotData$year)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot4.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
# Write plot out to file.
dev.off()
# Grep for "motor vehicle" related sources in SCC$EI.Sector
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.Sector), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = "year", measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year ~ variable, sum)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot5.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=1))
plot + geom_line() + geom_point()
# Write plot out to file.
dev.off()
# Grep for "motor vehicle" related sources in SCC$EI.Sector
sources <- SCC[grep("*Motor*|*Vehicle*", SCC$EI.Sector), 1]
# Subset NEI data based on whether or not the source is "motor vehicle" related,
# and to those data relevant to Baltimore & Los Angeles.
balSrcNEI <- subset(NEI, NEI$SCC %in% sources & fips %in% c("24510", "06037"))
# Melt & recast PM2.5 data, summing by year.
mBalSrcNEI <- melt(balSrcNEI, id.vars = c("year", "fips"), measure.vars = "Emissions")
plotData <- dcast(mBalSrcNEI, year + fips ~ variable, sum)
plotData$fips <- factor(plotData$fips, levels = c("06037", "24510"),
labels = c("Los Angeles County", "Baltimore"))
# Initialise graphics device.
png(filename = file.path(getwd(), "plot6.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=fips, colour=fips))
plot + facet_grid(. ~ fips) + geom_line() + geom_point()
# Write plot out to file.
dev.off()
# Subset PM2.5 data to that relevant to Baltimore.
balNEI <- subset(NEI, fips == "24510")
# Melt & recast PM2.5 data, summing by year.
mBalNEI <- melt(balNEI, id.vars = c("year", "type"), measure.vars = "Emissions")
plotData <- dcast(mBalNEI, year + type ~ variable, sum)
plotData$year <- factor(plotData$year)
plotData$type <- factor(plotData$type)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot <- plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot <- plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), #width = 480, height = 480,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 1000, height = 500,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 800, height = 500,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
# Initialise graphics device.
png(filename = file.path(getwd(), "plot3.png"), width = 800, height = 400,
bg = "transparent")
plot <- ggplot(data=plotData, aes(x=year, y=Emissions, group=type, colour=type))
plot + geom_line() + geom_point() + facet_grid(. ~ type)
# Write plot out to file.
dev.off()
setwd("~/coursera/represearch/RepData_PeerAssessment2")
?count
?length
